// Generated by CoffeeScript 1.4.0
(function() {
  var trace, utils;

  utils = require("../util");

  trace = function(msg, cb) {
    utils.logger.trace(msg);
    return cb();
  };

  exports.exec = function(type, options, done) {
    var conf, host, path, prefix, _ref, _ref1, _ref2, _ref3;
    conf = utils.config.parse(options.cwd);
    path = utils.path.join(options.cwd, type);
    host = (_ref = conf.root) != null ? (_ref1 = _ref.export_global_config) != null ? _ref1.resource_domain : void 0 : void 0;
    prefix = (_ref2 = conf.root) != null ? (_ref3 = _ref2.export_global_config) != null ? _ref3.resource_pid : void 0 : void 0;
    if (!host) {
      return trace("fekit.config 中没有找到`export_global_config.resource_domain`配置节", done);
    }
    if (!prefix) {
      return trace("fekit.config 中没有找到图片前缀`export_global_config.resource_pid`配置节", done);
    }
    if (!utils.path.exists(path)) {
      return trace("没有找到`" + type + "`目录", done);
    }
    host = host.replace('http://', '').replace('https://', '').replace('/', '');
    console.info(path);
    return utils.path.find.file(/\.css$/, path, function(files) {
      return console.info(files);
    });
  };

}).call(this);
