// Generated by CoffeeScript 1.4.0
(function() {
  var dumpScript, utils;

  utils = require('../util');

  exports.usage = "TAB 自动补全";

  dumpScript = function() {
    var fs, p, path;
    fs = require("graceful-fs");
    path = require("path");
    p = path.resolve(__dirname, "../completion.sh");
    return fs.readFile(p, "utf8", function(er, d) {
      if (er) {
        utils.logger.error(er);
        return null;
      }
      d = d.replace(/^#!.*?\n/, "");
      return console.log(d);
    });
  };

  exports.run = function(options) {
    if (process.platform === "win32") {
      utils.logger.error("fekit completion 不支持 windows");
      return null;
    }
    if (void 0 === process.env.COMP_CWORD || void 0 === process.env.COMP_LINE || void 0 === process.env.COMP_POINT) {
      return dumpScript();
    }
    console.error(process.env.COMP_CWORD);
    console.error(process.env.COMP_LINE);
    return console.error(process.env.COMP_POINT);
  };

}).call(this);
